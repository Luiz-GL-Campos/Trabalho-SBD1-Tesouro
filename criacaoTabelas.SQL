CREATE TABLE IF NOT EXISTS TESOURO (
    Id INTEGER PRIMARY KEY AUTOINCREMENT,
    Nome NVARCHAR(100) NOT NULL,
    Descricao NVARCHAR(255),
    Tipo NVARCHAR(50) NOT NULL,
    Valor DECIMAL(18, 2) NOT NULL,
    Origem NVARCHAR(100),
    LocalizacaoId INTEGER,
    FOREIGN KEY (LocalizacaoId) REFERENCES LOCALIZACAO(Id)
);

CREATE TABLE IF NOT EXISTS MUSEU (
    Id INTEGER PRIMARY KEY AUTOINCREMENT,
    Nome NVARCHAR(100) NOT NULL,
    Localizacao NVARCHAR(100) NOT NULL
);

CREATE TABLE IF NOT EXISTS PESQUISADOR (
    Id INTEGER PRIMARY KEY AUTOINCREMENT,
    Nome NVARCHAR(100) NOT NULL,
    Especialidade NVARCHAR(100),
    MuseuId INTEGER,
    FOREIGN KEY (MuseuId) REFERENCES MUSEU(Id)
);

CREATE TABLE IF NOT EXISTS LOCALIZACAO (
    Id INTEGER PRIMARY KEY AUTOINCREMENT,
    Nome NVARCHAR(100) NOT NULL,
    Descricao NVARCHAR(255),
    Lat DECIMAL(9, 6) NOT NULL,
    Lon DECIMAL(9, 6) NOT NULL
);

CREATE TABLE IF NOT EXISTS PISTA (
    Id INTEGER PRIMARY KEY AUTOINCREMENT,
    Descricao NVARCHAR(255) NOT NULL,
    TesouroId INTEGER,
    FOREIGN KEY (TesouroId) REFERENCES TESOURO(Id)
);

CREATE TABLE IF NOT EXISTS RELATO (
    Id INTEGER PRIMARY KEY AUTOINCREMENT,
    Texto NVARCHAR(255) NOT NULL,
    TesouroId INTEGER,
    FOREIGN KEY (TesouroId) REFERENCES TESOURO(Id)
);

CREATE TABLE IF NOT EXISTS INVESTIGACAO (
    Id INTEGER PRIMARY KEY AUTOINCREMENT,
    PesquisadorId INTEGER,
    TesouroId INTEGER,
    Data DATE,
    Relato NVARCHAR(255),
    FOREIGN KEY (PesquisadorId) REFERENCES PESQUISADOR(Id),
    FOREIGN KEY (TesouroId) REFERENCES TESOURO(Id)
);