CREATE TABLE IF NOT EXISTS TESOURO (
    Id INTEGER PRIMARY KEY AUTOINCREMENT,
    Nome TEXT(100) NOT NULL,
    Descricao TEXT(255),
    Tipo TEXT(50) NOT NULL,
    Valor DECIMAL(18, 2) NOT NULL,
    Origem TEXT(100),
    LocalizacaoId INTEGER,
    FOREIGN KEY (LocalizacaoId) REFERENCES LOCALIZACAO(Id)
);

CREATE TABLE IF NOT EXISTS MUSEU (
    Id INTEGER PRIMARY KEY AUTOINCREMENT,
    Nome TEXT(100) NOT NULL,
    Localizacao TEXT(100) NOT NULL
);

CREATE TABLE IF NOT EXISTS PESQUISADOR (
    Id INTEGER PRIMARY KEY AUTOINCREMENT,
    Nome TEXT(100) NOT NULL,
    Especialidade TEXT(100),
    MuseuId INTEGER,
    FOREIGN KEY (MuseuId) REFERENCES MUSEU(Id)
);

CREATE TABLE IF NOT EXISTS LOCALIZACAO (
    Id INTEGER PRIMARY KEY AUTOINCREMENT,
    Nome TEXT(100) NOT NULL,
    Descricao TEXT(255),
    Lat DECIMAL(9, 6) NOT NULL,
    Lon DECIMAL(9, 6) NOT NULL
);

CREATE TABLE IF NOT EXISTS PISTA (
    Id INTEGER PRIMARY KEY AUTOINCREMENT,
    Descricao TEXT(255) NOT NULL,
    TesouroId INTEGER,
    FOREIGN KEY (TesouroId) REFERENCES TESOURO(Id)
);

CREATE TABLE IF NOT EXISTS RELATO (
    Id INTEGER PRIMARY KEY AUTOINCREMENT,
    Texto TEXT(255) NOT NULL,
    TesouroId INTEGER,
    FOREIGN KEY (TesouroId) REFERENCES TESOURO(Id)
);

CREATE TABLE IF NOT EXISTS INVESTIGACAO (
    Id INTEGER PRIMARY KEY AUTOINCREMENT,
    PesquisadorId INTEGER,
    TesouroId INTEGER,
    Data DATE,
    Relato TEXT(255),
    FOREIGN KEY (PesquisadorId) REFERENCES PESQUISADOR(Id),
    FOREIGN KEY (TesouroId) REFERENCES TESOURO(Id)
);